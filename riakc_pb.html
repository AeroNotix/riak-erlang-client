<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module riakc_pb</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module riakc_pb</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>Utility functions for protocol buffers.


<h2><a name="description">Description</a></h2>Utility functions for protocol buffers. These are used inside
  the client code and do not normally need to be used in application
  code.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#any_to_list-1">any_to_list/1</a></td><td>Converts an arbitrary type to a list for sending in a PB.</td></tr>
<tr><td valign="top"><a href="#decode-2">decode/2</a></td><td>Decode a protocol buffer message given its type - if no bytes
  return the atom for the message code.</td></tr>
<tr><td valign="top"><a href="#encode-1">encode/1</a></td><td>Create an iolist of msg code and protocol buffer message.</td></tr>
<tr><td valign="top"><a href="#erlify_bool-1">erlify_bool/1</a></td><td>Convert a protocol buffers boolean to an Erlang boolean.</td></tr>
<tr><td valign="top"><a href="#erlify_rpbbucketprops-1">erlify_rpbbucketprops/1</a></td><td>Convert an RpbBucketProps message to a property list.</td></tr>
<tr><td valign="top"><a href="#erlify_rpbcontent-1">erlify_rpbcontent/1</a></td><td>Convert an rpccontent pb message to an erlang {MetaData,Value} tuple.</td></tr>
<tr><td valign="top"><a href="#erlify_rpbcontents-1">erlify_rpbcontents/1</a></td><td>Convert a list of rpbcontent pb messages to a list of [{MetaData,Value}] tuples.</td></tr>
<tr><td valign="top"><a href="#erlify_rpblink-1">erlify_rpblink/1</a></td><td>Convert RpbLink PB message to erlang link tuple.</td></tr>
<tr><td valign="top"><a href="#erlify_rpbpair-1">erlify_rpbpair/1</a></td><td>Convert RpbPair PB message to erlang {K,V} tuple.</td></tr>
<tr><td valign="top"><a href="#msg_code-1">msg_code/1</a></td><td>Converts a symbolic message name into a message code.</td></tr>
<tr><td valign="top"><a href="#msg_type-1">msg_type/1</a></td><td>Converts a message code into the symbolic message name.</td></tr>
<tr><td valign="top"><a href="#pbify_bool-1">pbify_bool/1</a></td><td>Convert a true/false, 1/0 etc to a 1/0 for protocol buffers bool.</td></tr>
<tr><td valign="top"><a href="#pbify_rpbbucketprops-1">pbify_rpbbucketprops/1</a></td><td>Convert a property list to an RpbBucketProps message.</td></tr>
<tr><td valign="top"><a href="#pbify_rpbbucketprops-2">pbify_rpbbucketprops/2</a></td><td>Convert a property list to an RpbBucketProps message.</td></tr>
<tr><td valign="top"><a href="#pbify_rpbcontent-1">pbify_rpbcontent/1</a></td><td>Convert a metadata/value pair into an #rpbcontent{} record.</td></tr>
<tr><td valign="top"><a href="#pbify_rpbcontent_entry-3">pbify_rpbcontent_entry/3</a></td><td>Convert the metadata dictionary entries to protocol buffers.</td></tr>
<tr><td valign="top"><a href="#pbify_rpbcontents-2">pbify_rpbcontents/2</a></td><td>Convert a list of {MetaData,Value} pairs to protocol buffers.</td></tr>
<tr><td valign="top"><a href="#pbify_rpblink-1">pbify_rpblink/1</a></td><td>Convert erlang link tuple to RpbLink PB message.</td></tr>
<tr><td valign="top"><a href="#pbify_rpbpair-1">pbify_rpbpair/1</a></td><td>Convert {K,V} tuple to protocol buffers.</td></tr>
<tr><td valign="top"><a href="#to_binary-1">to_binary/1</a></td><td>Make sure an atom/string/binary is definitely a binary.</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="any_to_list-1">any_to_list/1</a></h3>
<div class="spec">
<p><tt>any_to_list(V::list() | atom() | binary() | integer()) -&gt; list()</tt><br></p>
</div><p>Converts an arbitrary type to a list for sending in a PB.</p>

<h3 class="function"><a name="decode-2">decode/2</a></h3>
<div class="spec">
<p><tt>decode(MsgCode::integer(), MsgData::binary()) -&gt; atom() | tuple()</tt><br></p>
</div><p>Decode a protocol buffer message given its type - if no bytes
  return the atom for the message code</p>

<h3 class="function"><a name="encode-1">encode/1</a></h3>
<div class="spec">
<p><tt>encode(Msg::atom() | tuple()) -&gt; iolist()</tt><br></p>
</div><p>Create an iolist of msg code and protocol buffer message</p>

<h3 class="function"><a name="erlify_bool-1">erlify_bool/1</a></h3>
<div class="spec">
<p><tt>erlify_bool(X1::integer()) -&gt; boolean()</tt><br></p>
</div><p>Convert a protocol buffers boolean to an Erlang boolean</p>

<h3 class="function"><a name="erlify_rpbbucketprops-1">erlify_rpbbucketprops/1</a></h3>
<div class="spec">
<p><tt>erlify_rpbbucketprops(PBProps::tuple() | undefined) -&gt; [<a href="proplists.html#type-property">proplists:property()</a>]</tt><br></p>
</div><p>Convert an RpbBucketProps message to a property list</p>

<h3 class="function"><a name="erlify_rpbcontent-1">erlify_rpbcontent/1</a></h3>
<div class="spec">
<p><tt>erlify_rpbcontent(PBContent::tuple()) -&gt; {<a href="riakc_obj.html#type-metadata">riakc_obj:metadata()</a>, <a href="riakc_obj.html#type-value">riakc_obj:value()</a>}</tt><br></p>
</div><p>Convert an rpccontent pb message to an erlang {MetaData,Value} tuple</p>

<h3 class="function"><a name="erlify_rpbcontents-1">erlify_rpbcontents/1</a></h3>
<div class="spec">
<p><tt>erlify_rpbcontents(PBContents::[tuple()]) -&gt; <a href="riakc_obj.html#type-contents">riakc_obj:contents()</a></tt><br></p>
</div><p>Convert a list of rpbcontent pb messages to a list of [{MetaData,Value}] tuples</p>

<h3 class="function"><a name="erlify_rpblink-1">erlify_rpblink/1</a></h3>
<div class="spec">
<p><tt>erlify_rpblink(PBLink::tuple()) -&gt; {{<a href="riakc_obj.html#type-bucket">riakc_obj:bucket()</a>, <a href="riakc_obj.html#type-key">riakc_obj:key()</a>}, binary() | string()}</tt><br></p>
</div><p>Convert RpbLink PB message to erlang link tuple</p>

<h3 class="function"><a name="erlify_rpbpair-1">erlify_rpbpair/1</a></h3>
<div class="spec">
<p><tt>erlify_rpbpair(PBPair::tuple()) -&gt; {string(), string()}</tt><br></p>
</div><p>Convert RpbPair PB message to erlang {K,V} tuple</p>

<h3 class="function"><a name="msg_code-1">msg_code/1</a></h3>
<div class="spec">
<p><tt>msg_code(X1::atom()) -&gt; integer()</tt><br></p>
</div><p>Converts a symbolic message name into a message code.</p>

<h3 class="function"><a name="msg_type-1">msg_type/1</a></h3>
<div class="spec">
<p><tt>msg_type(X1::integer()) -&gt; atom()</tt><br></p>
</div><p>Converts a message code into the symbolic message name.</p>

<h3 class="function"><a name="pbify_bool-1">pbify_bool/1</a></h3>
<div class="spec">
<p><tt>pbify_bool(N::boolean() | integer()) -&gt; boolean()</tt><br></p>
</div><p>Convert a true/false, 1/0 etc to a 1/0 for protocol buffers bool</p>

<h3 class="function"><a name="pbify_rpbbucketprops-1">pbify_rpbbucketprops/1</a></h3>
<div class="spec">
<p><tt>pbify_rpbbucketprops(Props::[<a href="proplists.html#type-property">proplists:property()</a>]) -&gt; PBProps::tuple()</tt><br></p>
</div><p>Convert a property list to an RpbBucketProps message</p>

<h3 class="function"><a name="pbify_rpbbucketprops-2">pbify_rpbbucketprops/2</a></h3>
<div class="spec">
<p><tt>pbify_rpbbucketprops(Rest::[<a href="proplists.html#type-property">proplists:property()</a>], PBPropsIn::tuple()) -&gt; PBPropsOut::tuple()</tt><br></p>
</div><p>Convert a property list to an RpbBucketProps message</p>

<h3 class="function"><a name="pbify_rpbcontent-1">pbify_rpbcontent/1</a></h3>
<div class="spec">
<p><tt>pbify_rpbcontent(C::{<a href="riakc_obj.html#type-metadata">riakc_obj:metadata()</a>, <a href="riakc_obj.html#type-value">riakc_obj:value()</a>}) -&gt; tuple()</tt><br></p>
</div><p>Convert a metadata/value pair into an #rpbcontent{} record</p>

<h3 class="function"><a name="pbify_rpbcontent_entry-3">pbify_rpbcontent_entry/3</a></h3>
<div class="spec">
<p><tt>pbify_rpbcontent_entry(MetadataKey::string(), ContentType::any(), PbContent::tuple()) -&gt; tuple()</tt><br></p>
</div><p>Convert the metadata dictionary entries to protocol buffers</p>

<h3 class="function"><a name="pbify_rpbcontents-2">pbify_rpbcontents/2</a></h3>
<div class="spec">
<p><tt>pbify_rpbcontents(Rest::<a href="riakc_obj.html#type-contents">riakc_obj:contents()</a>, Acc::list()) -&gt; [tuple()]</tt><br></p>
</div><p>Convert a list of {MetaData,Value} pairs to protocol buffers</p>

<h3 class="function"><a name="pbify_rpblink-1">pbify_rpblink/1</a></h3>
<div class="spec">
<p><tt>pbify_rpblink(X1::{{<a href="riakc_obj.html#type-bucket">riakc_obj:bucket()</a>, <a href="riakc_obj.html#type-key">riakc_obj:key()</a>}, binary() | string()}) -&gt; tuple()</tt><br></p>
</div><p>Convert erlang link tuple to RpbLink PB message</p>

<h3 class="function"><a name="pbify_rpbpair-1">pbify_rpbpair/1</a></h3>
<div class="spec">
<p><tt>pbify_rpbpair(X1::{Key::binary(), Value::any()}) -&gt; tuple()</tt><br></p>
</div><p>Convert {K,V} tuple to protocol buffers</p>

<h3 class="function"><a name="to_binary-1">to_binary/1</a></h3>
<div class="spec">
<p><tt>to_binary(A::atom() | list() | binary()) -&gt; binary()</tt><br></p>
</div><p>Make sure an atom/string/binary is definitely a binary</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Apr 7 2012, 15:38:39.</i></p>
</body>
</html>
